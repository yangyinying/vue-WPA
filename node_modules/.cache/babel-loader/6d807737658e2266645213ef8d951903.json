{"remainingRequest":"/Users/yinying.yang/Work/webProjects/Vue.js/vue-heroes/node_modules/babel-loader/lib/index.js!/Users/yinying.yang/Work/webProjects/Vue.js/vue-heroes/node_modules/eslint-loader/index.js??ref--13-0!/Users/yinying.yang/Work/webProjects/Vue.js/vue-heroes/src/shared/data.service.js","dependencies":[{"path":"/Users/yinying.yang/Work/webProjects/Vue.js/vue-heroes/src/shared/data.service.js","mtime":1572448741917},{"path":"/Users/yinying.yang/Work/webProjects/Vue.js/vue-heroes/node_modules/cache-loader/dist/cjs.js","mtime":1572368094708},{"path":"/Users/yinying.yang/Work/webProjects/Vue.js/vue-heroes/node_modules/babel-loader/lib/index.js","mtime":1572368097180},{"path":"/Users/yinying.yang/Work/webProjects/Vue.js/vue-heroes/node_modules/eslint-loader/index.js","mtime":1572368094053}],"contextDependencies":[],"result":["import _typeof from \"/Users/yinying.yang/Work/webProjects/Vue.js/vue-heroes/node_modules/@babel/runtime-corejs2/helpers/esm/typeof\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/yinying.yang/Work/webProjects/Vue.js/vue-heroes/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport * as axios from 'axios';\nimport { format } from 'date-fns';\nimport { inputDateFormat } from \"./constants\";\nimport { API } from \"./config\";\n\nvar getNodes =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee() {\n    var response, data, nodes;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return axios.get(\"\".concat(API, \"/nodes.json\"));\n\n          case 3:\n            response = _context.sent;\n            data = parseList(response);\n            nodes = data.map(function (h) {\n              h.originDate = format(h.originDate, inputDateFormat);\n              return h;\n            });\n            console.log(nodes);\n            return _context.abrupt(\"return\", nodes);\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(_context.t0);\n            return _context.abrupt(\"return\", []);\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 10]]);\n  }));\n\n  return function getNodes() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar getNode =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee2(id) {\n    var response, node;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return axios.get(\"/nodes/\".concat(id, \".json\"));\n\n          case 3:\n            response = _context2.sent;\n            console.log(response.status);\n            node = parseItem(response, 200);\n            return _context2.abrupt(\"return\", node);\n\n          case 9:\n            _context2.prev = 9;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.error(_context2.t0);\n            return _context2.abrupt(\"return\", null);\n\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 9]]);\n  }));\n\n  return function getNode(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar parseList = function parseList(response) {\n  if (response.status !== 200) throw Error('Cannot parse list');\n  if (!response.data) return [];\n  var list = response.data;\n\n  if (_typeof(list) !== 'object') {\n    list = [];\n  }\n\n  return list;\n};\n\nexport var parseItem = function parseItem(response, code) {\n  if (response.status !== code) throw Error('Cannot parse item');\n  var item = response.data;\n\n  if (_typeof(item) !== 'object') {\n    item = undefined;\n  }\n\n  return item;\n};\nexport var dataService = {\n  getNodes: getNodes,\n  getNode: getNode\n};",{"version":3,"sources":["/Users/yinying.yang/Work/webProjects/Vue.js/vue-heroes/src/shared/data.service.js"],"names":["axios","format","inputDateFormat","API","getNodes","get","response","data","parseList","nodes","map","h","originDate","console","log","error","getNode","id","status","node","parseItem","Error","list","code","item","undefined","dataService"],"mappings":";;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AAEA,SAASC,MAAT,QAAuB,UAAvB;AACA,SAASC,eAAT;AAEA,SAASC,GAAT;;AAEA,IAAMC,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEUJ,KAAK,CAACK,GAAN,WAAaF,GAAb,iBAFV;;AAAA;AAEPG,YAAAA,QAFO;AAITC,YAAAA,IAJS,GAIFC,SAAS,CAACF,QAAD,CAJP;AAMPG,YAAAA,KANO,GAMCF,IAAI,CAACG,GAAL,CAAS,UAAAC,CAAC,EAAI;AAC1BA,cAAAA,CAAC,CAACC,UAAF,GAAeX,MAAM,CAACU,CAAC,CAACC,UAAH,EAAeV,eAAf,CAArB;AACA,qBAAOS,CAAP;AACD,aAHa,CAND;AAUbE,YAAAA,OAAO,CAACC,GAAR,CAAYL,KAAZ;AAVa,6CAWNA,KAXM;;AAAA;AAAA;AAAA;AAabI,YAAAA,OAAO,CAACE,KAAR;AAba,6CAcN,EAdM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAARX,QAAQ;AAAA;AAAA;AAAA,GAAd;;AAkBA,IAAMY,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAG,kBAAeC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEWjB,KAAK,CAACK,GAAN,kBAAoBY,EAApB,WAFX;;AAAA;AAENX,YAAAA,QAFM;AAGZO,YAAAA,OAAO,CAACC,GAAR,CAAYR,QAAQ,CAACY,MAArB;AACIC,YAAAA,IAJQ,GAIDC,SAAS,CAACd,QAAD,EAAW,GAAX,CAJR;AAAA,8CAKLa,IALK;;AAAA;AAAA;AAAA;AAOZN,YAAAA,OAAO,CAACE,KAAR;AAPY,8CAQL,IARK;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAPC,OAAO;AAAA;AAAA;AAAA,GAAb;;AAYA,IAAMR,SAAS,GAAG,SAAZA,SAAY,CAAAF,QAAQ,EAAI;AAC5B,MAAIA,QAAQ,CAACY,MAAT,KAAoB,GAAxB,EAA6B,MAAMG,KAAK,CAAC,mBAAD,CAAX;AAC7B,MAAI,CAACf,QAAQ,CAACC,IAAd,EAAoB,OAAO,EAAP;AACpB,MAAIe,IAAI,GAAGhB,QAAQ,CAACC,IAApB;;AACA,MAAI,QAAOe,IAAP,MAAgB,QAApB,EAA8B;AAC5BA,IAAAA,IAAI,GAAG,EAAP;AACD;;AACD,SAAOA,IAAP;AACD,CARD;;AAUA,OAAO,IAAMF,SAAS,GAAG,SAAZA,SAAY,CAACd,QAAD,EAAWiB,IAAX,EAAoB;AAC3C,MAAIjB,QAAQ,CAACY,MAAT,KAAoBK,IAAxB,EAA8B,MAAMF,KAAK,CAAC,mBAAD,CAAX;AAC9B,MAAIG,IAAI,GAAGlB,QAAQ,CAACC,IAApB;;AACA,MAAI,QAAOiB,IAAP,MAAgB,QAApB,EAA8B;AAC5BA,IAAAA,IAAI,GAAGC,SAAP;AACD;;AACD,SAAOD,IAAP;AACD,CAPM;AASP,OAAO,IAAME,WAAW,GAAG;AACzBtB,EAAAA,QAAQ,EAARA,QADyB;AAEzBY,EAAAA,OAAO,EAAPA;AAFyB,CAApB","sourcesContent":["import * as axios from 'axios';\n\nimport { format } from 'date-fns';\nimport { inputDateFormat } from './constants';\n\nimport { API } from './config';\n\nconst getNodes = async function() {\n  try {\n    const response = await axios.get(`${API}/nodes.json`);\n\n    let data = parseList(response);\n\n    const nodes = data.map(h => {\n      h.originDate = format(h.originDate, inputDateFormat);\n      return h;\n    });\n    console.log(nodes);\n    return nodes;\n  } catch (error) {\n    console.error(error);\n    return [];\n  }\n};\n\nconst getNode = async function(id) {\n  try {\n    const response = await axios.get(`/nodes/${id}.json`);\n    console.log(response.status);\n    let node = parseItem(response, 200);\n    return node;\n  } catch (error) {\n    console.error(error);\n    return null;\n  }\n};\n\nconst parseList = response => {\n  if (response.status !== 200) throw Error('Cannot parse list');\n  if (!response.data) return [];\n  let list = response.data;\n  if (typeof list !== 'object') {\n    list = [];\n  }\n  return list;\n};\n\nexport const parseItem = (response, code) => {\n  if (response.status !== code) throw Error('Cannot parse item');\n  let item = response.data;\n  if (typeof item !== 'object') {\n    item = undefined;\n  }\n  return item;\n};\n\nexport const dataService = {\n  getNodes,\n  getNode,\n};\n"]}]}